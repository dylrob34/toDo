(this.webpackJsonpanchor=this.webpackJsonpanchor||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a,c,o=n(1),s=n.n(o),i=n(17),r=n.n(i),l=(n(24),n(4)),j=n(8),d=n(2),u=(n(25),n(0)),h=function(){return Object(u.jsxs)("div",{className:"welcome",children:[Object(u.jsx)("h2",{children:"Welcome to this todo application"}),Object(u.jsx)("p",{children:"pretty stuff"})]})},b=!1;function p(e){c=e,b=!0,a(!0)}function O(){b=!1,a(!1)}var m=function(){var e=Object(o.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(o.useState)(""),s=Object(l.a)(c,2),i=s[0],r=s[1],j=Object(o.useState)(""),h=Object(l.a)(j,2),b=h[0],O=h[1],m=Object(o.useState)(""),f=Object(l.a)(m,2),g=f[0],x=f[1],v=Object(o.useState)(""),w=Object(l.a)(v,2),C=w[0],S=w[1],T=Object(o.useState)(""),N=Object(l.a)(T,2),F=N[0],P=N[1],k=Object(o.useState)(""),E=Object(l.a)(k,2),L=(E[0],E[1],Object(o.useState)(!1)),A=Object(l.a)(L,2),I=A[0],D=A[1];return!0===I?Object(u.jsx)(d.a,{to:"/"}):Object(u.jsxs)("form",{children:[Object(u.jsx)("h1",{children:"Create Your Account"}),""!==F?Object(u.jsx)("div",{className:"error",children:F}):"",Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"fname",children:"First Name: "}),Object(u.jsx)("input",{type:"text",name:"fname",id:"fname",placeholder:"Your first name...",value:g,onChange:function(e){x(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"lname",children:"Last Name: "}),Object(u.jsx)("input",{type:"text",name:"lname",id:"lname",placeholder:"Your last name...",value:C,onChange:function(e){S(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(u.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"Your Email...",value:n,onChange:function(e){a(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"password",children:"Create Password: "}),Object(u.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Create Password...",value:i,onChange:function(e){r(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm Password: "}),Object(u.jsx)("input",{type:"password",name:"confirmpassword",id:"confirmpassword",placeholder:"Confirm Password...",value:b,onChange:function(e){e.target.value!==i?P("The passwords do not match, please try again."):(P(""),console.log("Passwords Match")),O(e.target.value)}})]}),Object(u.jsx)("input",{type:"submit",onClick:function(e){e.preventDefault(),fetch("http://"+y+"/api/user/createUser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({firstName:g,lastName:C,email:n,password:i,passCheck:b})}).then((function(e){return e.json()})).then((function(e){!0===e.loggedIn?(p(e.token),D(!0)):console.log("Error Creating User")}))}})]})},f=n(19),g=n.n(f),x=n(11);function v(){var e=Object(o.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(o.useState)({email:"",password:""}),s=Object(l.a)(c,2),i=s[0],r=s[1];return Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),w(i,a)},children:Object(u.jsxs)("div",{className:"form-inner",children:[Object(u.jsx)("h2",{children:"Login"}),""!==n?Object(u.jsx)("div",{className:"error",children:n}):"",Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"email",children:"Email: "}),Object(u.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return r(Object(x.a)(Object(x.a)({},i),{},{email:e.target.value}))},value:i.email})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(u.jsx)("input",{type:"password",name:"password",id:"password",onChange:function(e){return r(Object(x.a)(Object(x.a)({},i),{},{password:e.target.value}))},value:i.password})]}),Object(u.jsx)("input",{type:"submit",value:"LOGIN"}),Object(u.jsx)(j.b,{to:"/signup",children:"Create Account"})]})})}var w=function(e,t){console.log(e),console.log("fetching from: http://"+y+"/api/auth/login"),fetch("http://"+y+"/api/auth/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:e.email,pass:e.password})}).then((function(e){return e.json()})).then((function(e){!0===e.error?(console.log("The login information didn't match..."),t("The login information didn't match...")):!0===e.loggedIn&&(console.log("logged in"),p(e.token))}))};var C=function(){var e=b,t=Object(o.useState)(""),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(o.useEffect)((function(){if(e){var t=c;console.log("Token: "+t),fetch("http://"+y+"/api/user/getUser",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"bearer "+t}}).then((function(e){return e.json()})).then((function(e){s(e.user.firstName)}))}}),[e]),e?Object(u.jsxs)("div",{children:[Object(u.jsx)(j.b,{to:"/",children:"ToDo"}),Object(u.jsxs)("p",{children:["Hello, ",a]}),Object(u.jsx)("button",{onClick:O,children:"Logout"})]}):Object(u.jsxs)("div",{children:[Object(u.jsx)(j.b,{to:"/",children:"ToDo"}),Object(u.jsx)("h1",{}),Object(u.jsx)(j.b,{to:"/login",children:"Login"})]})},y="localhost";var S=function(){var e=Object(o.useState)(!1),t=Object(l.a)(e,2);t[0],function(e){a=e}(t[1]);var n=g.a.load("jwt");return console.log("JWT: "+n),"undefined"!==typeof n&&""!==n&&(console.log("fetching"),fetch("http://"+y+"/api/auth/checkLogin",{method:"GET",headers:{Accept:"application/json",authorization:"bearer "+n}}).then((function(e){return e.json()})).then((function(e){!0===e.loggedIn?p(n):console.log("jwt is invalid")}))),Object(u.jsx)(j.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(C,{}),Object(u.jsxs)(d.d,{children:[Object(u.jsx)(d.b,{exact:!0,path:"/",component:h}),Object(u.jsx)(d.b,{exact:!0,path:"/login",component:v}),Object(u.jsx)(d.b,{exact:!0,path:"/signup",component:m})]})]})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),o(e),s(e)}))};r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root")),T()}},[[34,1,2]]]);
//# sourceMappingURL=main.7abfe7db.chunk.js.map